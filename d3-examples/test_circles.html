<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<script type="text/javascript" src="../d3/d3.js"></script>
	</head>
	<body>
		<script type="text/javascript">
			var dataset = [
			{"value": 4, "label": "Turkish", "color": "#000000"},
			{"value": 6, "label": "French Press", "color": "#D8BFD8"},
			{"value": 6, "label": "Eva Solo", "color": "#FF69B4"},
			{"value": 10, "label": "Metal-Filter Drip", "color": "#F0E68C"},
			{"value": 5, "label": "Cloth-Filter Drip", "color": "#87CEFA"},
			{"value": 5, "label": "Paper-Filer Drip", "color": "#FFA500"},
			{"value": 8, "label": "Siphon", "color": "#90EE90"},
			{"value": 5, "label": "Chemex", "color": "#F0E68C"}
			];
			
			var w = 960;
			var h = 500;
			var svg = d3.select("body")
			                .append("svg")
			                .attr("width", w)
			                .attr("height", h);
			
			var circles = svg.selectAll("circle")
    			.data(dataset)
    			.enter()
    			.append("circle")
    		
    		circles.attr("cx", function(d , i){
    		    return (i * 100) + 125;
    		})
        		.attr("cy", h/2)
        		.attr("r", function(d) {
        		    return d["value"] * 10;
        		})
        		.attr("fill", function(d){
        		    return d["color"];
        		})
        		.attr("stroke", function(d){
        		    return d["color"];
        		})
        		.attr("stroke-width", 6)
        		.attr("fill-opacity", 0.75);
    		
    		//Give our Turkish Coffee a dashed line
    		d3.select(circles[0][0])
    		    .attr("stroke-dasharray", "12,4")
        		.attr("fill-opacity", 0.0);
        	
        	function makeMarker (inElement, inID, orientAngle) {
            	inElement.append("defs").append("marker")
                    .attr("id", inID)
                    .attr("refX", 6) 
                    .attr("refY", 3)
                    .attr("markerWidth", 25)
                    .attr("markerHeight", 35)
                    .attr("orient", orientAngle)
                    .append("path")
                         .attr("d", "M 0,0 V 6 L8,3 Z");
        	};
        	
        	makeMarker(svg, "arrow_start", 180);
        	makeMarker(svg, "arrow_end", "auto");
        	
            var centerline = svg.append("line")
                .attr("x1", 50)
        	    .attr("x2", w-50)
        	    .attr("y1", h/2)
        	    .attr("y2", h/2)
        	    .attr("marker-end", "url(#arrow_end)")
        	    .attr("marker-start", "url(#arrow_start)")
        	    .style("stroke", "black")
        	    .style("stroke-width", 2);
        	    
        	var labels = svg.selectAll("text")
        	                 .data(dataset)
        	                 .enter()
        	                 .append("text")
        	
        	labels.text(function(d) {
        	    return d["label"];
        	})
        	    .attr("x", function(d , i){
                    return (i * 100) + 125;
                })
                .attr("y", function(d, i) {
                    // Stagger label placement above and below circles.
                    if (i % 2 == 0) {
                        // Example: 300 - (4 * 5) - 165 = 115
                        return  h - (d["value"] * 10) - 265;
                    } else {
                        return d["value"] * 10 + 275
                    }
                })
                .attr("text-anchor", "middle")
                .attr("font-family", "sans-serif")
                .attr("font-size", "12px")
                .attr("fill", "#000000");
             
            function makeAxisLabels(inElement, inText, inAnchor, inX, inY) {
	           inElement.append("text")
	              .text(inText)
	              .attr("x", inX)
	              .attr("y", inY)
	              .attr("text-anchor", inAnchor)
                  .attr("font-family", "sans-serif")
                  .attr("font-size", "16px")
                  .attr("fill", "#000000");
            }
            
            makeAxisLabels(svg, "Least Flavor Clarity", "start", 50, 435);
            makeAxisLabels(svg, "Most Body", "start", 50, 455);
            makeAxisLabels(svg, "Most Flavor Clarity", "end", w-50, 435);
            makeAxisLabels(svg, "Least Body", "end", w-50, 455);
		</script>
		<!--
		<p>Some SVG Circles About Coffee Brew Methods.</p>
		<p>Larger circles indicate a greater range in filter porosity.</p>
		<a href="http://i.imgur.com/07elh8S.jpg">Based On</a>
		<a href="http://www.reddit.com/r/Coffee/comments/1ekzis/the_spectrum_of_flavor_clarity_vs_body_a_really/">Via</a>
		<a href="http://www.amazon.com/Everything-But-Espresso-Professional-Techniques/dp/B003LM063A">Ripped Off From</a>
		-->
	</body>
</html>
